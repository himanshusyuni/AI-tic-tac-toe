CREATE FUNCTION dbo.RemoveFirstCommaLogic (@input NVARCHAR(MAX))
RETURNS NVARCHAR(MAX)
AS
BEGIN
    DECLARE @result NVARCHAR(MAX) = ''
    DECLARE @points INT = 0
    DECLARE @i INT = 1
    DECLARE @len INT = LEN(@input)
    DECLARE @ch NCHAR(1)

    WHILE @i <= @len
    BEGIN
        SET @ch = SUBSTRING(@input, @i, 1)

        IF @ch = ',' AND @points = 0
        BEGIN
            -- skip this first comma before a point
        END
        ELSE 
        BEGIN
            SET @result += @ch

            IF @ch = ',' SET @points -= 1
            ELSE IF @ch = '.' SET @points += 1
        END

        SET @i += 1
    END

    RETURN @result
END;
